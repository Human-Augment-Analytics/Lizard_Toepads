# dlib shape predictor training with YOLO-derived bounding boxes
# Trains on larger bboxes that match inference conditions (YOLO + 30% padding)

preprocessing:
  image_dir: /storage/ice-shared/cs8903onl/miami_fall_24_jpgs
  tps_file: consolidated_toe.tps
  train_ratio: 0.8
  output_train: train.xml
  output_test: test.xml

shape:
  dataset: train_yolo_bbox.xml
  test: test_yolo_bbox.xml
  output: toe_predictor_yolo_bbox
  threads: 8
  tree_depth: 4
  cascade_depth: 15
  nu: 0.1
  oversampling: 20
  test_splits: 20
  feature_pool_size: 500
  num_trees: 500

yolo_bbox:
  yolo_model: /home/hice1/yloh30/scratch/Lizard_Toepads/runs/detect/H5_detect_6class/weights/best.pt
  padding_ratio: 0.3
  fallback_padding_ratio: 0.5
  conf_threshold: 0.25
  target_class: toe

inference:
  predictor: toe_predictor_yolo_bbox.dat
  output: toe_predictions_yolo_bbox.xml
